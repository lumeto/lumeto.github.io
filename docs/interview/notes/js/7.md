## 数组去重有几种方式

### Set()+Array.from()
- **Set对象**：是值的集合，你可以按照插入的顺序迭代它的元素。 Set中的元素只会出现一次，即Set中的元素是唯一的
- **Array.from()** 方法：对一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例

```js
const result = Array.from(new Set(arr));
console.log(result); // [ 1, 2, 'abc', true, false, undefined, NaN ]
```
注意：以上去方式对NaN和undefined类型去重也是有效的，是因为NaN和undefined都可以被存储在Set中， NaN之间被视为相同的值（尽管在js中：NaN !== NaN）

### 数组的includes方法
此方法逻辑与indexOf方法去重异曲同工，只是用includes方法来判断是否包含重复元素。

includes()方法：用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 true，否则返回 false。

```js
function removeDuplicate(arr) {
 
   const newArr = []
 
   arr.forEach(item => {
 
      if (!newArr.includes(item)) {
      newArr.push(item)
     }
  })
 return newArr
}
 
const result = removeDuplicate(arr)
 
console.log(result) // [ 1, 2, 'abc', true, false, undefined, NaN ]
```
注意：为什么includes能够检测到数组中包含NaN，其涉及到includes底层的实现。如下图为includes实现的部分代码，在进行判断是否包含某元素时会调用sameValueZero方法进行比较，如果为NaN，则会使用isNaN()进行转化。

***简单测试includes()对NaN的判断：**
```js
const testArr = [1, 'a', NaN]
console.log(testArr.includes(NaN)) // true
```

### 利用Map()

Map对象是JavaScript提供的一种数据结构，结构为键值对形式，将数组元素作为map的键存入，前端培训然后结合has()和set()方法判断键是否重复。

Map 对象：用于保存键值对，并且能够记住键的原始插入顺序。任何值（对象或者原始值）都可以作为一个键或一个值。

```js
function removeDuplicate(arr) {
const map = new Map()
const newArr = []
arr.forEach(item => {
  if (!map.has(item)) { // has()用于判断map是否包为item的属性值

    map.set(item, true) // 使用set()将item设置到map中，并设置其属性值为true
  
    newArr.push(item)
  }
})
return newArr
}
const result = removeDuplicate(arr)
console.log(result)   // [ 1, 2, 'abc', true, false, undefined, NaN ]
```
**注意**：使用Map()也可对NaN去重，原因是Map进行判断时认为NaN是与NaN相等的，剩下所有其它的值是根据 === 运算符的结果判断是否相等。

### 利用对象
其实现思想和Map()是差不多的，主要是利用了对象的属性名不可重复这一特性。

```js
function removeDuplicate(arr) {
   const newArr = []
   const obj = {}
   arr.forEach(item => {
       if (!obj[item]) {
       newArr.push(item)
       obj[item] = true
      }
   })
   return newArr
 }
 const result = removeDuplicate(arr)
 console.log(result) // [ 1, 2, 'abc', true, false, undefined, NaN ]
```