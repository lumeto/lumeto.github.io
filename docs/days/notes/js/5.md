## JS-Web-API-Ajax

### XMLHttpRequest
`XMLHttpRequest（XHR）`对象用于与服务器交互，我们通过 XMLHttpRequest 可以在不刷新页面的情况下请求特定 URL获取数据，并且虽然名字叫`XMLHttpRequest`，但实际上可以用于获取任何类型的数据。

**XMLHttpRequest的使用主要可以分为如下几步：**
- 创建XMLHttpRequest对象
- 建立http连接
- 发送请求
- 获取返回数据


### 跨域

### JSONP

### CORS：服务端设置返回时的http header

### 相关面试题
**1. 什么是浏览器的同源策略**
   
`同源策略`（Same origin policy）是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。可以说 Web 是构建在同源策略基础之上的，浏览器只是针对同源策略的一种实现。

它的核心就在于它认为自任何站点装载的信赖内容是不安全的。当被浏览器半信半疑的脚本运行在沙箱时，它们应该只被允许访问来自同一站点的资源，而不是那些来自其它站点可能怀有恶意的资源。
::: tip
所谓同源是指：域名、协议、端口相同
:::
下表是相对于 http://www.test.com/home/index.html 的同源检测结果：
| URL      | 结果 |   原因    |
| ----------- | ----------- | ----------- |
| http://www.test.com/other/index.html      | 成功     |  域名、协议、端口 都相同  |
| https://www.test.com/other/index.html   |  失败  |  协议不同  |
| http://www.test.com:8080/home/index.html   | 失败    |  端口不同  |
| http://www.test.cn/home/index.html   | 失败      |  域名不同  |

**2. 什么是跨域**

所谓跨域就是根据业务需求需要跨过浏览器的同源限制，因为同源策略，非同源之间，不能进行交互。那么跨域就是解决非同源之间发起请求、请求数据、发送数据、通信等交互问题解决方法的统称。

**3. 实现跨域的常见方式 - jsonp 和 CORS**


**4. 手写 Ajax**
   
GoTo：[手写Ajax](/days/notes/program/2)

        