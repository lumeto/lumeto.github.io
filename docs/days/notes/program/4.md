## 手写函数节流 throttle

### 什么是节流
::: tip
- 节省流量，不会一直访问
- 指定时间内不执行，指定时间后执行
- 一段时间内只执行一次
:::

### 原理
原理： 你尽管触发事件，不管怎么触发 ，到时我就执行 !

### 应用场景
- scroll 事件，每隔一秒计算一次位置信息等
- 浏览器播放事件，每个一秒计算一次进度信息等
- input框实时搜索并发送请求展示下拉列表，没隔一秒发送一次请求 (也可做防抖)
- 拖拽，计算每隔时间的位置

### 实现
::: tip
测试拖拽
::::

```html
<!--html-->

<div class="box" draggable="true"></div>
```

```js
// js

function throttle(fn, delay = 300) {
  let timer = null;
  return function () {
    if (timer) {
      return;
    }
    timer = setTimeout(() => {
      fn.apply(this, arguments);
      timer = null;
    }, delay);
  };
}

const box = document.addEventListener(
  "drag",
  throttle(function (e) {
    console.log(e.clientX);
    console.log(e.clientY);
  }, 500)
);

```
