## 手写函数防抖 debounce

### 什么是防抖
::: tip
- 在前端中有一些事件会频繁的触发容易造成页面卡顿 

- JS防抖其实也是用来提升网页性能的一种技术写法
:::


### 原理
原理： 你尽管触发事件，但是我一定在事件触发 n 秒后才执行，如果你在一个事件触发的 n 秒内又触发了这个事件，那我就以新的事件的时间为准，n 秒后才执行，总之，就是要等你触发完事件 n 秒内不再触发事件，我才执行 !

### 应用场景
  1. window 的 resize、scroll
  2. mousedown、mousemove
  3. keyup、keydown
  4. input 的 input 事件

**以上事件频繁的触发容易造成页面卡顿**

### 实现
::: tip
测试监听input框输入
::::

```html
 <!--html-->

 <input type="text" id="inputEvent" />
```

```js
// js

function debounce(fn, delay = 100) {
  // timer 是闭包中的
  let timer = null;
  return function () {
    if (timer) {
      clearTimeout(timer);
    }
    timer = setTimeout(() => {
      fn.apply(this, arguments);
      timer = null;
    }, delay);
  };
}

const input = document.getElementById("inputEvent");
input.addEventListener(
  "keyup",
  debounce(function (e) {
    console.log(e.target);
    console.log(input.value);
  }, 3000)
);
```
