## 实现 bind()

### bind()的用法
::: tip
bind() 方法创建一个新的函数，在 bind() 被调用时，这个新函数的 this 被指定为 bind() 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。
:::
```js
function fn(name, age) {
  this.name = name
  this.age = age
  console.log(this)
}
fn() // Window
fn.bind({a:1})() // {a: 1, name: undefined, age: undefined}
fn.bind({a:1})('a',10) // {a: 1, name: "a", age: 10}
fn.bind({a:1}, 'b', 11)() // {a: 1, name: "b", age: 11}
```
![bind函数](/images/bind-1.png)

### 手动实现bind()

```js
/* 思路：
1、先在函数的原型上定义一个方法
2、获得传入的参数列表args
3、第一个参数是新函数的this
4、返回一个函数，函数内执行fn，并将其余的参数和执行新函数时传的参数一起传进去
*/

Function.prototype.myBind = function () {
  // 将参数拆解为类数组
  const args = Array.prototype.slice.call(arguments);
  // 获取 this , 即为数组的第一项
  const _this = args.shift(args);
  // 谁调用 就赋给谁 如实例: fn.myBind(...) 中的  fn
  const _self = this;
  // bind 最终返回一个函数
  return function () {
    return _self.apply(_this, args);
  };
};

// 使用
fn.myBind({a:1}, 'a', 12)()
fn.myBind({b:2})('b', 13)
```

